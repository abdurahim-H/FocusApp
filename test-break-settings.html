<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Break Settings Test</title>
    <style>
        body {
            font-family: Arial, sans-serif;
            max-width: 800px;
            margin: 0 auto;
            padding: 20px;
            background: #1a1a2e;
            color: white;
        }
        .test-section {
            margin: 20px 0;
            padding: 15px;
            border: 1px solid #333;
            border-radius: 8px;
        }
        .controls {
            margin: 10px 0;
        }
        .controls input[type="range"] {
            width: 200px;
            margin: 0 10px;
        }
        .result {
            background: #16213e;
            padding: 10px;
            border-radius: 4px;
            margin: 10px 0;
        }
        button {
            background: #6366f1;
            color: white;
            border: none;
            padding: 10px 20px;
            border-radius: 4px;
            cursor: pointer;
            margin: 5px;
        }
        button:hover {
            background: #5855eb;
        }
    </style>
</head>
<body>
    <h1>Break Duration Settings Test</h1>
    
    <div class="test-section">
        <h2>Test Break Duration Controls</h2>
        
        <div class="controls">
            <label>Short Break Duration: <span id="shortBreakValue">5</span> min</label>
            <input type="range" min="1" max="30" value="5" id="shortBreakRange">
        </div>
        
        <div class="controls">
            <label>Long Break Duration: <span id="longBreakValue">15</span> min</label>
            <input type="range" min="5" max="60" value="15" id="longBreakRange">
        </div>
        
        <div class="controls">
            <button onclick="saveSettings()">Save Settings</button>
            <button onclick="loadSettings()">Load Settings</button>
            <button onclick="resetSettings()">Reset Settings</button>
        </div>
        
        <div class="result" id="result">
            Ready to test...
        </div>
    </div>
    
    <div class="test-section">
        <h2>Current Settings</h2>
        <div id="currentSettings"></div>
    </div>

    <script type="module">
        // Simulate the timer state structure
        const testState = {
            timer: {
                settings: {
                    focusDuration: 25,
                    shortBreak: 5,
                    longBreak: 15
                }
            }
        };
        
        // Update display when ranges change
        document.getElementById('shortBreakRange').addEventListener('input', (e) => {
            document.getElementById('shortBreakValue').textContent = e.target.value;
        });
        
        document.getElementById('longBreakRange').addEventListener('input', (e) => {
            document.getElementById('longBreakValue').textContent = e.target.value;
        });
        
        window.saveSettings = function() {
            const shortBreak = document.getElementById('shortBreakRange').value;
            const longBreak = document.getElementById('longBreakRange').value;
            
            // Save to localStorage (same keys as the main app)
            localStorage.setItem('fu_shortBreak', shortBreak);
            localStorage.setItem('fu_longBreak', longBreak);
            
            // Update test state
            testState.timer.settings.shortBreak = parseInt(shortBreak);
            testState.timer.settings.longBreak = parseInt(longBreak);
            
            document.getElementById('result').innerHTML = `
                <strong>Settings Saved!</strong><br>
                Short Break: ${shortBreak} minutes<br>
                Long Break: ${longBreak} minutes
            `;
            
            updateCurrentSettings();
        };
        
        window.loadSettings = function() {
            const shortBreak = localStorage.getItem('fu_shortBreak') || '5';
            const longBreak = localStorage.getItem('fu_longBreak') || '15';
            
            document.getElementById('shortBreakRange').value = shortBreak;
            document.getElementById('shortBreakValue').textContent = shortBreak;
            document.getElementById('longBreakRange').value = longBreak;
            document.getElementById('longBreakValue').textContent = longBreak;
            
            testState.timer.settings.shortBreak = parseInt(shortBreak);
            testState.timer.settings.longBreak = parseInt(longBreak);
            
            document.getElementById('result').innerHTML = `
                <strong>Settings Loaded!</strong><br>
                Short Break: ${shortBreak} minutes<br>
                Long Break: ${longBreak} minutes
            `;
            
            updateCurrentSettings();
        };
        
        window.resetSettings = function() {
            localStorage.removeItem('fu_shortBreak');
            localStorage.removeItem('fu_longBreak');
            
            document.getElementById('shortBreakRange').value = 5;
            document.getElementById('shortBreakValue').textContent = '5';
            document.getElementById('longBreakRange').value = 15;
            document.getElementById('longBreakValue').textContent = '15';
            
            testState.timer.settings.shortBreak = 5;
            testState.timer.settings.longBreak = 15;
            
            document.getElementById('result').innerHTML = `
                <strong>Settings Reset!</strong><br>
                Short Break: 5 minutes<br>
                Long Break: 15 minutes
            `;
            
            updateCurrentSettings();
        };
        
        function updateCurrentSettings() {
            document.getElementById('currentSettings').innerHTML = `
                <div><strong>Timer State:</strong></div>
                <div>Focus Duration: ${testState.timer.settings.focusDuration} minutes</div>
                <div>Short Break: ${testState.timer.settings.shortBreak} minutes</div>
                <div>Long Break: ${testState.timer.settings.longBreak} minutes</div>
                <br>
                <div><strong>LocalStorage:</strong></div>
                <div>fu_shortBreak: ${localStorage.getItem('fu_shortBreak') || 'not set'}</div>
                <div>fu_longBreak: ${localStorage.getItem('fu_longBreak') || 'not set'}</div>
            `;
        }
        
        // Initial load
        loadSettings();
    </script>
</body>
</html>
